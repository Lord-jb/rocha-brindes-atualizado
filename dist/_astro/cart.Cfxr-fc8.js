import{c as t}from"./store.4IFrkIZ1.js";import{g as i,s as n}from"./utils.CDcRrbXb.js";const o="rocha-brindes-cart",e={items:[],total_items:0,total_amount:0},[a,s]=t(e),u=()=>0===a.items.length,d=()=>a.total_items,r=()=>a.total_amount;function c(t){const i=t.quantity||1,n=a.items.findIndex(i=>i.product_id===t.product_id&&i.variation_id===t.variation_id);-1!==n?s("items",n,"quantity",t=>t+i):s("items",n=>[...n,{...t,quantity:i}]),l(),p()}function f(t,i=null){s("items",n=>n.filter(n=>!(n.product_id===t&&n.variation_id===i))),l(),p()}function m(t,i,n=null){if(i<=0)return void f(t,n);const o=a.items.findIndex(i=>i.product_id===t&&i.variation_id===n);-1!==o&&(s("items",o,"quantity",i),l(),p())}function _(){s(e),p()}function l(){const t=a.items.reduce((t,i)=>t+i.quantity,0),i=a.items.reduce((t,i)=>t+i.unit_price*i.quantity,0);s({total_items:t,total_amount:i})}function p(){"undefined"!=typeof window&&n(o,a)}"undefined"!=typeof window&&function(){if("undefined"==typeof window)return;const t=i(o,e);t&&t.items&&(s(t),l())}();export{r as a,u as b,d as c,a as d,_ as e,c as f,f as r,m as u};
