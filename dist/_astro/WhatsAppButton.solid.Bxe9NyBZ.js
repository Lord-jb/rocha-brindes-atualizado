import{n as t,o as e,p as r,g as s,t as a,q as i,m as o,j as n,i as c,c as l,D as d,F as h,r as u,d as m,e as g,f as p,S as w,b as f,h as b,k as x,l as k}from"./store.Dt6STyof.js";import{c as y}from"./Providers.solid.rWoUcR__.js";async function v(t=100){const e=await fetch(`/api/catalog?limit=${t}`);if(!e.ok)throw new Error("Failed to fetch catalog");return e.json()}const $="cart-storage",[S,j]=t(function(){if("undefined"==typeof window)return{items:[],isOpen:!1,count:0,category:"Todos",search:""};try{const t=localStorage.getItem($);if(t)return{...JSON.parse(t).state,isOpen:!1}}catch(t){}return{items:[],isOpen:!1,count:0,category:"Todos",search:""}}());"undefined"!=typeof window&&e(()=>{localStorage.setItem($,JSON.stringify({state:{items:S.items,count:S.count,category:S.category,search:S.search}}))});const z={add:t=>{const e=S.items.findIndex(e=>e.id===t.id&&e.cor===t.cor);e>=0?j("items",e,"quantity",t=>t+1):j("items",e=>[...e,{...t,quantity:1}]),j("count",S.items.reduce((t,e)=>t+e.quantity,0))},remove:t=>{j("items",e=>e.filter(e=>!(e.id===t||`${e.id}-${e.cor}`===t))),j("count",S.items.reduce((t,e)=>t+e.quantity,0))},updateQuantity:(t,e)=>{j("items",r=>r.map(r=>(r.cor?`${r.id}-${r.cor}`:r.id)===t||r.id===t?{...r,quantity:e}:r)),j("count",S.items.reduce((t,e)=>t+e.quantity,0))},clear:()=>{j("items",[]),j("count",0)},toggle:()=>{j("isOpen",!S.isOpen)},setCategory:t=>{j("category",t)},setSearch:t=>{j("search",t)}};
/**
* @license lucide-solid v0.456.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var C={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},N=a("<svg>"),W=t=>{const[e,a]=r(t,["color","size","strokeWidth","children","class","name","iconNode","absoluteStrokeWidth"]);return m=s(N),i(m,o(C,{get width(){return e.size??C.width},get height(){return e.size??C.height},get stroke(){return e.color??C.stroke},get"stroke-width"(){return n(()=>!!e.absoluteStrokeWidth)()?24*Number(e.strokeWidth??C["stroke-width"])/Number(e.size):Number(e.strokeWidth??C["stroke-width"])},get class(){return((...t)=>t.filter((t,e,r)=>Boolean(t)&&""!==t.trim()&&r.indexOf(t)===e).join(" ").trim())("lucide","lucide-icon",null!=e.name?`lucide-${t=e?.name,t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`:void 0,null!=e.class?e.class:"");var t}},a),!0,!0),c(m,l(h,{get each(){return e.iconNode},children:([t,e])=>l(d,o({component:t},e))})),u(),m;var m},q=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],O=t=>l(W,o(t,{name:"ArrowLeft",iconNode:q})),B=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],A=t=>l(W,o(t,{name:"MessageCircle",iconNode:B})),M=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],I=t=>l(W,o(t,{name:"ShoppingBag",iconNode:M}));function F(t,e="public"){return t?t.startsWith("http")||t.startsWith("blob:")||t.startsWith("data:")?t:`https://imagedelivery.net/iem94FVEkj3Qjv3DsJXpbQ/${t}/${e}`:""}var L=a('<a href=/ class="flex items-center justify-center p-2 hover:bg-white/10 rounded-lg transition-colors"aria-label=Voltar>'),P=a('<img alt="Rocha Brindes"class="h-5 sm:h-7 md:h-9 w-auto object-contain"loading=eager>',!0,!1,!1),D=a('<span class="absolute -top-1.5 -right-1.5 sm:-top-2 sm:-right-2 bg-accent text-dark font-bold text-[10px] sm:text-xs min-w-[20px] sm:min-w-[24px] h-[20px] sm:h-[24px] flex items-center justify-center rounded-full border-2 sm:border-3 border-white shadow-md">'),J=a('<header class="sticky top-0 z-40 bg-black shadow-md border-b border-gray-800"><div class="container mx-auto px-4 sm:px-6 lg:px-8"><div class="relative flex items-center justify-between h-16 sm:h-20"><div class="w-10 sm:w-12"></div><a href=/></a><button class="relative p-2.5 sm:p-3 bg-primary hover:bg-primary-dark text-white rounded-full transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105"aria-label="Abrir carrinho"><!$><!/><!$><!/>'),Q=a('<div class="h-10 sm:h-14 md:h-16 w-32 sm:w-48 md:w-64 bg-gray-200 animate-pulse rounded">');function T(t){const e=y(()=>({queryKey:["catalog",100],queryFn:()=>v(100),staleTime:6e5})),r=g(()=>{const t=e.data?.layout.logo;return t?F(t,"thumbnail"):""});return(()=>{var a=s(J),i=a.firstChild.firstChild.firstChild,o=i.nextSibling,d=o.nextSibling,h=d.firstChild,[m,g]=p(h.nextSibling),y=m.nextSibling,[v,$]=p(y.nextSibling);return c(i,l(w,{get when(){return t.showBackButton},get children(){var t=s(L);return c(t,l(O,{size:20,class:"text-white","stroke-width":2.5})),t}})),c(o,l(w,{get when(){return n(()=>!e.isLoading)()&&r()},get fallback(){return s(Q)},get children(){var t=s(P);return f(()=>x(t,"src",r())),t}})),b(d,"click",z.toggle,!0),c(d,l(I,{size:20,class:"sm:w-6 sm:h-6","stroke-width":2.5}),m,g),c(d,l(w,{get when(){return S.count>0},get children(){var t=s(D);return c(t,()=>S.count),t}}),v,$),f(()=>k(o,"flex items-center "+(t.showBackButton?"absolute left-1/2 -translate-x-1/2 sm:static sm:translate-x-0":""))),u(),a})()}m(["click"]);var V=a('<button class="fixed bottom-6 right-6 bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-2xl hover:scale-110 transition-all z-40"aria-label="Contato WhatsApp">');function Z(t){return(e=s(V)).$$click=()=>{const e=`https://wa.me/${t.number.replace(/\D/g,"")}?text=${encodeURIComponent("Olá! Gostaria de mais informações sobre os produtos.")}`;/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?window.location.href=e:window.open(e,"_blank")},c(e,l(A,{size:28})),u(),e;var e}m(["click"]);export{T as H,W as I,Z as W,S as a,z as c,v as f,F as o};
