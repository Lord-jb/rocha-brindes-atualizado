import{q as se,e as ae,f as Z,b as A,c as ce,j as e,s as Y,d as O,h as fe,u as le,i as ye,l as ie,k as je,m as ue,g as te,n as ve,a as Ne}from"./Providers.DSdMb4Z2.js";import{r as i}from"./index.y5FlbPQu.js";import{c as V,u as xe,o as ge,C as we,a as Ce}from"./chevron-right.BQH1nt45.js";import{X as H}from"./x.Dn29-G3J.js";import{S as ke}from"./search.C63jIeQO.js";import{T as pe}from"./trash-2.CaiQsfJl.js";import{P as ne,M as Se,a as Ee}from"./phone.bMKaQanG.js";import{P as Ie}from"./plus.DcbaRq1w.js";import{P as oe}from"./package.DPbreus8.js";/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=V("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=V("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=V("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=V("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=V("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=V("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=V("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=V("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=V("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=V("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=V("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=V("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);function de(){return xe({queryKey:["categories"],queryFn:async()=>{const a=se(Z(A,"categorias"),ae("nome"));return(await ce(a)).docs.map(n=>({id:n.id,...n.data()}))},staleTime:300*1e3,refetchOnMount:!0,refetchOnWindowFocus:!1})}const Me="iem94FVEkj3Qjv3DsJXpbQ";async function Q(a,r){const n=a.name.split(".").pop()?.toLowerCase()||"jpg";let j="";if(r.type==="main"&&r.productId)j=`${r.productId}.${n}`;else if(r.type==="variation"&&r.productId&&r.variation){const I=r.variation.toLowerCase().replace(/\s+/g,"-");j=`${r.productId}-${I}.${n}`}else j=a.name;const u=new File([a],j,{type:a.type}),v=new FormData;v.append("file",u),v.append("metadata",JSON.stringify({folder:r.folder,productId:r.productId,variation:r.variation,type:r.type,filename:j,uploadDate:new Date().toISOString()}));const b=await fetch("https://imagens.bjeslee19.workers.dev/",{method:"POST",body:v}),k=await b.text();let x;try{x=JSON.parse(k)}catch{x=k}if(!b.ok)throw console.error("Upload error RAW:",x),new Error(typeof x=="string"?x:JSON.stringify(x));if(!x||!x.imageId)throw console.error("Upload OK mas sem imageId:",x),new Error("ID da imagem não retornado pelo servidor");return x.imageId}function re(a,r="public"){return a?a.startsWith("http://")||a.startsWith("https://")||a.startsWith("blob:")||a.startsWith("data:")?a:`https://imagedelivery.net/${Me}/${a}/${r}`:""}async function X(a){if(a&&!(a.startsWith("http://")||a.startsWith("https://"))&&!(a.startsWith("blob:")||a.startsWith("data:")))try{const r=await fetch("https://imagens.bjeslee19.workers.dev/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageId:a})});if(!r.ok){const n=await r.text();console.error(`Erro ao deletar imagem ${a}:`,n)}}catch(r){console.error(`Erro ao deletar imagem ${a}:`,r)}}async function Oe(a){const r=a.filter(n=>n&&!n.startsWith("http")&&!n.startsWith("blob:")&&!n.startsWith("data:"));if(r.length!==0)try{const n=await fetch("https://imagens.bjeslee19.workers.dev/delete-multiple",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageIds:r})});if(!n.ok){const j=await n.text();console.error("Erro ao deletar múltiplas imagens:",j)}}catch(n){console.error("Erro ao deletar múltiplas imagens:",n)}}const qe="1t7T-5mU4ET0kjqd8x_sXlEwunwogCBrlqFnYpVaoyvE",Ve="AIzaSyAWUmt2UDeXxY1my2ajGU5bAMSjuU0L14o",$e="produtos!A:Z";function me(a){return a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toUpperCase().trim()}function Fe(a,r){if(!a||!r)return a;const n=new RegExp(`\\s+${r}$`,"i");return a.replace(n,"").trim()}async function Be(a){const r=a.trim();if(!r)return null;const n=r.split("_"),j=n.length>2?n.slice(0,n.length-1).join("_"):r,u=`https://sheets.googleapis.com/v4/spreadsheets/${qe}/values/${encodeURIComponent($e)}?key=${Ve}`,v=await fetch(u);if(!v.ok)throw console.error("Erro ao buscar planilha:",await v.text()),new Error("Não foi possível acessar a planilha do Google Sheets");const k=(await v.json()).values||[];if(!k.length)return null;const[x,...I]=k;console.log("Header da planilha:",x),console.log("Primeira linha de dados:",I[0]);const N=s=>me(s||""),w=x.findIndex(s=>{const p=N(s);return["ID","CODIGO","CÓDIGO","SKU","COD","CODE"].includes(p)}),c=x.findIndex(s=>{const p=N(s);return["NOME","PRODUTO","DESCRICAO_CURTA","NAME"].includes(p)}),y=x.findIndex(s=>{const p=N(s);return["DESCRICAO","DESCRIÇÃO","DESC","DESCRIPTION"].includes(p)}),S=x.findIndex(s=>{const p=N(s);return["COR","CORES","VARIACAO","VARIACOES","VARIAÇÃO","COLOR"].includes(p)}),D=x.findIndex(s=>{const p=N(s);return["CATEGORIA","CATEGORIAS","GRUPO","CATEGORY"].includes(p)}),z=x.findIndex(s=>{const p=N(s);return["DESTAQUE","HIGHLIGHT","FEATURED"].includes(p)});if(w===-1)throw console.error("Colunas disponíveis:",x.map((s,p)=>`${p}: ${s}`)),new Error(`Coluna de código/SKU não encontrada na planilha. Colunas disponíveis: ${x.join(", ")}`);const m=I.filter(s=>{const p=(s[w]||"").trim();return p?p===j||p.startsWith(j+"_"):!1});if(!m.length)return null;let f="",C="";const T=new Set;let o=!1;const l=[];for(const s of m){const p=c>=0?(s[c]||"").trim():"",U=y>=0?(s[y]||"").trim():"",M=S>=0?(s[S]||"").trim():"",h=D>=0?(s[D]||"").trim():"",E=z>=0?(s[z]||"").trim():"";!f&&p&&(f=M?Fe(p,M):p),!C&&U&&(C=U),h&&h.split(",").map(P=>P.trim()).filter(Boolean).forEach(P=>T.add(P)),typeof E=="string"&&["SIM","TRUE","1","YES","S"].includes(me(E))&&(o=!0),M&&!l.find(P=>P.cor===M)&&l.push({cor:M})}const t=Array.from(T);return{baseSku:j,nome:f||j,descricao:C,categorias:t,destaque:o,variacoes:l}}function We(){const[a,r]=i.useState(""),[n,j]=i.useState(""),[u,v]=i.useState(""),[b,k]=i.useState(!1),[x,I]=i.useState([]),[N,w]=i.useState(!1),[c,y]=i.useState(null),[S,D]=i.useState(""),[z,m]=i.useState([]),[f,C]=i.useState(""),[T,o]=i.useState(""),[l,t]=i.useState(!1),[s,p]=i.useState(""),[U,M]=i.useState(!1),{data:h=[]}=de(),E=d=>{const g=d.target.files?.[0];g&&(y(g),D(URL.createObjectURL(g)))},P=()=>{if(f.trim()){const d=f.trim(),g=[...z,{cor:d,image:null,preview:""}];m(g),T||o(d),C("")}},q=(d,g)=>{const R=[...z];R[d].image=g,R[d].preview=URL.createObjectURL(g),m(R)},K=d=>{const g=z[d]?.cor,R=z.filter((L,$)=>$!==d);m(R),o(L=>L&&L===g?R[0]?.cor??"":L)},_=async()=>{const d=n.trim();if(d){M(!0),p("");try{const g=await Be(d);if(!g){p("Nenhum produto encontrado na planilha com esse código.");return}if(j(g.baseSku),g.nome&&r(g.nome),g.descricao&&v(g.descricao),g.categorias?.length&&(I(g.categorias),w(!1)),k(g.destaque),g.variacoes?.length){const R=g.variacoes.map($=>({cor:$.cor,image:null,preview:""}));m(R);const L=g.variacoes.find($=>$.cor.toLowerCase().includes("preto"));L?o(L.cor):g.variacoes[0]?o(g.variacoes[0].cor):o("")}else m([]),o("");p("Dados preenchidos a partir da planilha ✅")}catch(g){console.error(g),p("Erro ao buscar dados na planilha.")}finally{M(!1)}}},F=async d=>{if(d.preventDefault(),x.length===0){w(!0),p("Selecione pelo menos uma categoria");return}w(!1),t(!0),p("");try{if(!n.trim())throw new Error("Informe um código/SKU");const g=[],R=[];let L=null;const $={};for(const G of z){if(!G.image)continue;const B=await Q(G.image,{folder:`produtos/${n}/variacoes`,productId:n,variation:G.cor,type:"variation"});R.push({cor:G.cor,imagem_url:B,thumb_url:B}),g.push(B),$[G.cor]=B}if(c)L=await Q(c,{folder:`produtos/${n}`,productId:n,type:"main"}),g.unshift(L);else if(T&&$[T])L=$[T];else{const G=Object.keys($).find(B=>B.toLowerCase().includes("preto"));if(G)L=$[G];else{const B=Object.values($)[0];B&&(L=B)}}if(!L)throw new Error("Envie pelo menos uma imagem (principal ou de alguma variação).");await Y(O(Z(A,"produtos"),n),{id:n,nome:a,descricao:u,categorias:x,destaque:b,variacoes:R,imagem_url:L,thumb_url:L,imagens_urls:g,thumbs_urls:g,createdAt:fe()}),p("Produto salvo com sucesso!"),r(""),j(""),v(""),k(!1),I([]),w(!1),y(null),D(""),m([]),C(""),o("")}catch(g){console.error(g),p(g instanceof Error?g.message:"Erro ao salvar produto")}finally{t(!1)}};return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-title font-bold mb-6",children:"Adicionar Produto"}),e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Nome"}),e.jsx("input",{type:"text",value:a,onChange:d=>r(d.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"SKU/Código"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:n,onChange:d=>j(d.target.value),onBlur:_,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary",required:!0}),e.jsx("button",{type:"button",onClick:_,disabled:U,className:"px-3 py-2 text-sm rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50",children:U?"Buscando...":"Planilha"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Descrição"}),e.jsx("textarea",{value:u,onChange:d=>v(d.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold mb-2",children:["Categorias ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:`flex flex-wrap gap-2 p-3 rounded-lg border-2 ${N?"border-red-300 bg-red-50":"border-gray-200"}`,children:h.map(d=>e.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-white rounded-lg cursor-pointer hover:bg-gray-50 border border-gray-200",children:[e.jsx("input",{type:"checkbox",checked:x.includes(d.nome),onChange:g=>{w(!1),g.target.checked?I(R=>[...R,d.nome]):I(R=>R.filter(L=>L!==d.nome))},className:"rounded"}),e.jsx("span",{className:"text-sm",children:d.nome})]},d.id))}),N&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Selecione pelo menos uma categoria"})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:b,onChange:d=>k(d.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm font-semibold",children:"Produto em destaque"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Imagem Principal (opcional)"}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:S?e.jsxs("div",{className:"relative aspect-square max-w-xs mx-auto",children:[e.jsx("img",{src:S,alt:"Preview",className:"w-full h-full object-contain"}),e.jsx("button",{type:"button",onClick:()=>{y(null),D("")},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1",children:e.jsx(H,{size:16})})]}):e.jsxs("label",{className:"flex flex-col items-center gap-2 cursor-pointer",children:[e.jsx(W,{className:"text-gray-400",size:48}),e.jsx("span",{className:"text-sm text-gray-600",children:"Clique para selecionar imagem principal (opcional)"}),e.jsx("input",{type:"file",accept:"image/*",onChange:E,className:"hidden"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Variações de Cor"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("input",{type:"text",value:f,onChange:d=>C(d.target.value),onKeyDown:d=>{d.key==="Enter"&&(d.preventDefault(),P())},placeholder:"Nome da cor (ex: Vermelho, Preto fosco)",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary"}),e.jsx("button",{type:"button",onClick:P,className:"bg-primary hover:opacity-90 text-text-primary px-4 py-2 rounded-lg font-semibold",children:"Adicionar"})]}),z.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Cor principal"}),e.jsxs("select",{value:T,onChange:d=>o(d.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary",children:[e.jsx("option",{value:"",children:"Selecione a cor principal"}),z.map((d,g)=>e.jsx("option",{value:d.cor,children:d.cor},d.cor+g))]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Essa cor será usada como principal se você não enviar imagem principal do produto."})]}),e.jsx("div",{className:"space-y-3",children:z.map((d,g)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-sm mb-2",children:d.cor}),d.preview?e.jsx("div",{className:"relative w-24 h-24",children:e.jsx("img",{src:d.preview,alt:d.cor,className:"w-full h-full object-cover rounded"})}):e.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-300 rounded cursor-pointer hover:bg-gray-50",children:[e.jsx(W,{size:16}),e.jsx("span",{className:"text-xs",children:"Adicionar imagem"}),e.jsx("input",{type:"file",accept:"image/*",onChange:R=>{const L=R.target.files?.[0];L&&q(g,L)},className:"hidden"})]})]}),e.jsx("button",{type:"button",onClick:()=>K(g),className:"text-red-500 hover:bg-red-50 p-2 rounded",children:e.jsx(H,{size:18})})]},g))})]}),s&&e.jsx("p",{className:`text-center font-semibold ${s.includes("sucesso")||s.includes("planilha")?"text-green-600":"text-red-600"}`,children:s}),e.jsx("button",{type:"submit",disabled:l,className:"w-full bg-primary hover:opacity-90 text-text-primary font-bold py-3 rounded-lg transition-all disabled:opacity-50",children:l?"Salvando...":"Salvar Produto"})]})]})}function Ge({product:a,onClose:r}){const[n,j]=i.useState(a.nome||""),[u,v]=i.useState(a.descricao||""),[b,k]=i.useState(a.destaque||!1),[x,I]=i.useState(a.categorias||[]),[N,w]=i.useState(null),[c,y]=i.useState(a.imagem_url?re(a.imagem_url,"thumbnail"):""),[S,D]=i.useState(a.variacoes?.map(h=>({cor:h.cor,image:null,preview:re(h.imagem_url,"thumbnail"),existingUrl:h.imagem_url}))||[]),[z,m]=i.useState(""),[f,C]=i.useState(!1),[T,o]=i.useState(""),{data:l=[]}=de(),t=h=>{const E=h.target.files?.[0];E&&(w(E),y(URL.createObjectURL(E)))},s=()=>{z.trim()&&(D([...S,{cor:z.trim(),image:null,preview:""}]),m(""))},p=(h,E)=>{const P=[...S];P[h].image=E,P[h].preview=URL.createObjectURL(E),D(P)},U=h=>{D(S.filter((E,P)=>P!==h))},M=async h=>{h.preventDefault(),C(!0),o("");try{let E=a.imagem_url;N&&(E=await Q(N,{folder:`produtos/${a.id}`,productId:a.id,type:"main"}),a.imagem_url&&a.imagem_url!==E&&await X(a.imagem_url));const P=[],q=[E],K=a.variacoes?.map(_=>_.imagem_url)||[];for(const _ of S)if(_.image){const F=await Q(_.image,{folder:`produtos/${a.id}/variacoes`,productId:a.id,variation:_.cor,type:"variation"});if(P.push({cor:_.cor,imagem_url:F,thumb_url:F}),q.push(F),_.existingUrl&&_.existingUrl!==F){const d=K.indexOf(_.existingUrl);d>-1&&K.splice(d,1)}}else if(_.existingUrl){const F=a.variacoes?.find(d=>d.cor===_.cor);if(F){P.push(F),q.push(F.imagem_url);const d=K.indexOf(F.imagem_url);d>-1&&K.splice(d,1)}}for(const _ of K)await X(_);await le(O(A,"produtos",a.id),{nome:n,descricao:u,categorias:x,destaque:b,variacoes:P,imagem_url:E,thumb_url:E,imagens_urls:q,thumbs_urls:q}),o("Produto atualizado com sucesso!"),setTimeout(()=>r(),1500)}catch(E){console.error(E),o(E instanceof Error?E.message:"Erro ao atualizar produto")}finally{C(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center z-10",children:[e.jsx("h2",{className:"text-xl font-title font-bold",children:"Editar Produto"}),e.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(H,{size:20})})]}),e.jsxs("form",{onSubmit:M,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Nome"}),e.jsx("input",{type:"text",value:n,onChange:h=>j(h.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"SKU/Código"}),e.jsx("input",{type:"text",value:a.id,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 cursor-not-allowed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Descrição"}),e.jsx("textarea",{value:u,onChange:h=>v(h.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Categorias"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(h=>e.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:x.includes(h.nome),onChange:E=>{E.target.checked?I(P=>[...P,h.nome]):I(P=>P.filter(q=>q!==h.nome))},className:"rounded"}),e.jsx("span",{className:"text-sm",children:h.nome})]},h.id))})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:b,onChange:h=>k(h.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm font-semibold",children:"Produto em destaque"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Imagem Principal"}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:c?e.jsxs("div",{className:"relative aspect-square max-w-xs mx-auto",children:[e.jsx("img",{src:c,alt:"Preview",className:"w-full h-full object-contain"}),e.jsxs("label",{className:"absolute bottom-2 right-2 bg-primary text-white p-2 rounded-full cursor-pointer hover:opacity-90 shadow-lg transition-opacity",children:[e.jsx(W,{size:16}),e.jsx("input",{type:"file",accept:"image/*",onChange:t,className:"hidden"})]})]}):e.jsxs("label",{className:"flex flex-col items-center gap-2 cursor-pointer",children:[e.jsx(W,{className:"text-gray-400",size:48}),e.jsx("span",{className:"text-sm text-gray-600",children:"Clique para selecionar imagem principal"}),e.jsx("input",{type:"file",accept:"image/*",onChange:t,className:"hidden"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Variações de Cor"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("input",{type:"text",value:z,onChange:h=>m(h.target.value),onKeyDown:h=>{h.key==="Enter"&&(h.preventDefault(),s())},placeholder:"Nome da cor (ex: Vermelho, Preto fosco)",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"}),e.jsx("button",{type:"button",onClick:s,className:"bg-primary hover:opacity-90 text-white px-4 py-2 rounded-lg font-semibold transition-opacity",children:"Adicionar"})]}),e.jsx("div",{className:"space-y-3",children:S.map((h,E)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-sm mb-2",children:h.cor}),h.preview?e.jsxs("div",{className:"relative w-24 h-24",children:[e.jsx("img",{src:h.preview,alt:h.cor,className:"w-full h-full object-cover rounded"}),e.jsxs("label",{className:"absolute bottom-0 right-0 bg-primary text-white p-1 rounded cursor-pointer hover:opacity-90 shadow-md transition-opacity",children:[e.jsx(W,{size:12}),e.jsx("input",{type:"file",accept:"image/*",onChange:P=>{const q=P.target.files?.[0];q&&p(E,q)},className:"hidden"})]})]}):e.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-300 rounded cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx(W,{size:16}),e.jsx("span",{className:"text-xs",children:"Adicionar imagem"}),e.jsx("input",{type:"file",accept:"image/*",onChange:P=>{const q=P.target.files?.[0];q&&p(E,q)},className:"hidden"})]})]}),e.jsx("button",{type:"button",onClick:()=>U(E),className:"text-red-500 hover:bg-red-50 p-2 rounded transition-colors",children:e.jsx(H,{size:18})})]},E))})]}),T&&e.jsx("div",{className:`p-3 rounded-lg text-center font-semibold ${T.includes("sucesso")?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:T}),e.jsx("button",{type:"submit",disabled:f,className:"w-full bg-primary hover:opacity-90 text-white font-bold py-3 rounded-lg transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Salvando...":"Salvar Alterações"})]})]})})}function Ke(){const[a,r]=i.useState(0),[n,j]=i.useState([]),[u,v]=i.useState(null),[b,k]=i.useState(null),[x,I]=i.useState(""),N=50,w=ye(),c=i.useMemo(()=>{const o=se(Z(A,"produtos"),ae("createdAt","desc"),ie(N));return a>0&&n[a-1]?se(Z(A,"produtos"),ae("createdAt","desc"),je(n[a-1]),ie(N)):o},[a,n,N]),{data:y=[],isLoading:S,refetch:D,isFetching:z}=xe({queryKey:["admin-products",a,N,n[a-1]?.id],queryFn:async()=>{const l=(await ce(c)).docs;return l.length>0&&j(t=>{const s=[...t];return s[a]=l[l.length-1],s}),l.map(t=>({id:t.id,...t.data()}))},placeholderData:o=>o??[],staleTime:3e4}),m=i.useMemo(()=>{if(!x.trim())return y;const o=x.toLowerCase();return y.filter(l=>l.nome.toLowerCase().includes(o)||l.id.toLowerCase().includes(o))},[y,x]),f=async o=>{if(confirm(`Tem certeza que deseja excluir "${o.nome}"?`)){k(o.id);try{const l=[];o.imagem_url&&l.push(o.imagem_url),o.thumb_url&&o.thumb_url!==o.imagem_url&&l.push(o.thumb_url),o.imagens_urls?.length&&o.imagens_urls.forEach(t=>{l.includes(t)||l.push(t)}),o.thumbs_urls?.length&&o.thumbs_urls.forEach(t=>{l.includes(t)||l.push(t)}),o.variacoes?.length&&o.variacoes.forEach(t=>{t.imagem_url&&!l.includes(t.imagem_url)&&l.push(t.imagem_url),t.thumb_url&&!l.includes(t.thumb_url)&&l.push(t.thumb_url)}),await Oe(l),await ue(O(A,"produtos",o.id)),await w.invalidateQueries({queryKey:["admin-products"]}),await D()}catch(l){console.error("Erro ao deletar produto:",l),alert("Erro ao deletar produto")}finally{k(null)}}},C=o=>{v(o)},T=()=>{v(null),w.invalidateQueries({queryKey:["admin-products"]}),D()};return S&&!y.length?e.jsx("div",{className:"text-center py-8",children:"Carregando produtos..."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("h2",{className:"text-xl font-title font-bold",children:["Produtos Cadastrados ",z&&e.jsx("span",{className:"text-sm text-gray-400",children:"(atualizando…)"})]}),e.jsxs("div",{className:"relative w-full sm:w-64",children:[e.jsx("input",{type:"text",value:x,onChange:o=>I(o.target.value),placeholder:"Buscar por nome ou SKU...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:outline-none text-sm"}),e.jsx(ke,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]})}),e.jsx("div",{className:"max-h-[600px] overflow-auto divide-y",children:m.map(o=>{const l=o.thumb_url||o.imagem_url||o.imagens_urls?.[0],t=l?ge(l,"thumbnail"):"";return e.jsxs("div",{className:"flex items-center gap-4 px-4 py-2 hover:bg-gray-50",children:[t?e.jsx("img",{src:t,alt:o.nome??"Produto",className:"w-16 h-16 object-contain rounded bg-gray-50"}):e.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-gray-100 rounded",children:e.jsx("span",{className:"text-xs text-gray-400",children:"Sem img"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:o.nome}),e.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",o.id]}),e.jsx("div",{className:"flex gap-2 mt-1 flex-wrap",children:o.categorias?.map(s=>e.jsx("span",{className:"text-xs bg-gray-200 px-2 py-1 rounded",children:s},s))}),o.variacoes&&o.variacoes.length>0&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[o.variacoes.length," variações de cor"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>C(o),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Editar",disabled:b===o.id,children:e.jsx(Ae,{size:18})}),e.jsx("button",{onClick:()=>f(o),className:"p-2 text-red-600 hover:bg-red-50 rounded disabled:opacity-50",title:"Excluir",disabled:b===o.id,children:b===o.id?e.jsx("div",{className:"w-[18px] h-[18px] border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):e.jsx(pe,{size:18})})]})]},o.id)})}),e.jsxs("div",{className:"p-4 border-t border-gray-200 flex justify-between items-center",children:[e.jsxs("button",{onClick:()=>r(o=>Math.max(0,o-1)),disabled:a===0,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-lg disabled:opacity-50 hover:bg-gray-200",children:[e.jsx(we,{size:18}),"Anterior"]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Página ",a+1]}),e.jsxs("button",{onClick:()=>r(o=>o+1),disabled:y.length<N,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-lg disabled:opacity-50 hover:bg-gray-200",children:["Próximo",e.jsx(Ce,{size:18})]})]})]}),u&&e.jsx(Ge,{product:u,onClose:T})]})}function He(){const[a,r]=i.useState(""),[n,j]=i.useState(!1),[u,v]=i.useState(null),[b,k]=i.useState(""),[x,I]=i.useState(!1),{data:N=[],refetch:w}=de(),c=m=>{const f=m.target.files?.[0];f&&(v(f),k(URL.createObjectURL(f)))},y=async m=>{m.preventDefault(),I(!0);try{const f=a.toLowerCase().replace(/\s+/g,"-");let C="";u&&(C=await Q(u,{folder:"categorias",productId:f,type:"category"})),await Y(O(A,"categorias",f),{id:f,nome:a,productCount:0,popular:n,imagePath:C}),r(""),j(!1),v(null),k(""),w()}catch(f){console.error(f),alert("Erro ao criar categoria")}finally{I(!1)}},S=async m=>{if(confirm("Tem certeza? Esta ação não pode ser desfeita."))try{m.imagePath&&await X(m.imagePath),await ue(O(A,"categorias",m.id)),w()}catch(f){console.error(f),alert("Erro ao excluir categoria")}},D=async m=>{try{await le(O(A,"categorias",m.id),{popular:!m.popular}),w()}catch(f){console.error(f),alert("Não foi possível atualizar popular")}},z=async(m,f)=>{try{const C=await Q(f,{folder:"categorias",productId:m.id,type:"category"});m.imagePath&&await X(m.imagePath),await le(O(A,"categorias",m.id),{imagePath:C}),w()}catch(C){console.error(C),alert("Não foi possível atualizar a imagem")}};return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-title font-bold mb-6",children:"Gerenciar Categorias"}),e.jsxs("form",{onSubmit:y,className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Nome da categoria"}),e.jsx("input",{type:"text",value:a,onChange:m=>r(m.target.value),placeholder:"Nome da categoria",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Imagem da categoria"}),b?e.jsxs("div",{className:"relative w-full h-24",children:[e.jsx("img",{src:b,alt:"Preview",className:"w-full h-full object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>{v(null),k("")},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1",children:e.jsx(H,{size:14})})]}):e.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx(W,{size:16}),e.jsx("span",{className:"text-sm",children:"Selecionar imagem"}),e.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"hidden"})]})]})]}),e.jsxs("label",{className:"inline-flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:m=>j(m.target.checked),className:"w-4 h-4 rounded"}),e.jsx("span",{className:"text-sm font-semibold",children:"Marcar como categoria popular"})]}),e.jsx("button",{type:"submit",disabled:x,className:"w-full bg-primary hover:opacity-90 text-text-primary font-semibold px-6 py-3 rounded-lg disabled:opacity-50",children:x?"Criando...":"Criar Categoria"})]}),e.jsx("div",{className:"space-y-2",children:N.map(m=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[m.imagePath&&e.jsx("img",{src:ge(m.imagePath,"thumbnail"),alt:m.nome,className:"w-16 h-16 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:m.nome}),e.jsxs("p",{className:"text-sm text-gray-500",children:[m.productCount||0," produtos"]}),e.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3",children:[e.jsx("button",{onClick:()=>void D(m),className:`px-3 py-1 rounded border text-sm ${m.popular?"bg-green-600 text-white border-green-600":"bg-white text-gray-700 border-gray-300"}`,children:m.popular?"Popular ✓":"Marcar como popular"}),e.jsxs("label",{className:"flex items-center gap-2 px-3 py-1 bg-white border border-gray-300 rounded cursor-pointer hover:bg-gray-50",children:[e.jsx(W,{size:14}),e.jsx("span",{className:"text-xs",children:"Alterar imagem"}),e.jsx("input",{type:"file",accept:"image/*",onChange:f=>{const C=f.target.files?.[0];C&&z(m,C)},className:"hidden"})]})]})]})]}),e.jsx("button",{onClick:()=>void S(m),className:"p-2 text-red-600 hover:bg-red-50 rounded",children:e.jsx(pe,{size:18})})]},m.id))})]})}function Qe(){const[a,r]=i.useState(!1),[n,j]=i.useState(""),[u,v]=i.useState({companyName:"Rocha Brindes",description:"",address:"",phone:"",email:"",copyright:"© 2024 Rocha Brindes. Todos os direitos reservados.",instagramUrl:"",facebookUrl:"",linkedinUrl:"",youtubeUrl:"",navigation:{title:"Navegação",links:[{label:"Início",url:"/"},{label:"Catálogo",url:"/catalogo"}]}});i.useEffect(()=>{(async()=>{try{const y=await te(O(A,"config","footer"));y.exists()&&v(S=>({...S,...y.data()}))}catch(y){console.error("Erro carregar footer:",y)}})()},[]);const b=(c,y)=>{v({...u,[c]:y})},k=c=>{v({...u,navigation:{...u.navigation,title:c}})},x=(c,y,S)=>{const D=[...u.navigation.links];D[c]={...D[c],[y]:S},v({...u,navigation:{...u.navigation,links:D}})},I=()=>{v({...u,navigation:{...u.navigation,links:[...u.navigation.links,{label:"",url:""}]}})},N=c=>{v({...u,navigation:{...u.navigation,links:u.navigation.links.filter((y,S)=>S!==c)}})},w=async()=>{r(!0),j("");try{await Y(O(A,"config","footer"),u),j("✅ Rodapé atualizado!"),setTimeout(()=>j(""),3e3)}catch{j("❌ Erro ao salvar.")}finally{r(!1)}};return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 pb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-blue-50 p-2 rounded-lg text-blue-600",children:e.jsx(Le,{size:24})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Configurar Rodapé"})]}),n&&e.jsx("span",{className:`px-3 py-1 rounded-md text-sm font-bold ${n.includes("✅")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:n})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx(be,{size:18,className:"text-primary"}),"Informações da Empresa"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Nome da Empresa"}),e.jsx("input",{type:"text",value:u.companyName,onChange:c=>b("companyName",c.target.value),className:"w-full p-3 border-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Rocha Brindes"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Descrição"}),e.jsx("textarea",{value:u.description,onChange:c=>b("description",c.target.value),rows:3,className:"w-full p-3 border-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Transformando ideias em brindes únicos..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Copyright"}),e.jsx("input",{type:"text",value:u.copyright,onChange:c=>b("copyright",c.target.value),className:"w-full p-3 border-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"© 2024 Rocha Brindes"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx(ne,{size:18,className:"text-primary"}),"Informações de Contato"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-1",children:[e.jsx(Se,{size:14})," Endereço"]}),e.jsx("textarea",{value:u.address,onChange:c=>b("address",c.target.value),rows:2,className:"w-full p-3 border-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Rua Example, 123 - Centro"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-1",children:[e.jsx(ne,{size:14})," Telefone"]}),e.jsx("input",{type:"text",value:u.phone,onChange:c=>b("phone",c.target.value),className:"w-full p-3 border-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"(00) 0000-0000"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-1",children:[e.jsx(Ee,{size:14})," Email"]}),e.jsx("input",{type:"email",value:u.email,onChange:c=>b("email",c.target.value),className:"w-full p-3 border-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"contato@rochabrindes.com"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx(ze,{size:18,className:"text-primary"}),"Redes Sociais"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Instagram"}),e.jsx("input",{type:"url",value:u.instagramUrl,onChange:c=>b("instagramUrl",c.target.value),className:"w-full p-3 border-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"https://instagram.com/rochabrindes"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Facebook"}),e.jsx("input",{type:"url",value:u.facebookUrl,onChange:c=>b("facebookUrl",c.target.value),className:"w-full p-3 border-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"https://facebook.com/rochabrindes"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"LinkedIn"}),e.jsx("input",{type:"url",value:u.linkedinUrl,onChange:c=>b("linkedinUrl",c.target.value),className:"w-full p-3 border-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"https://linkedin.com/company/rochabrindes"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"YouTube"}),e.jsx("input",{type:"url",value:u.youtubeUrl,onChange:c=>b("youtubeUrl",c.target.value),className:"w-full p-3 border-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"https://youtube.com/@rochabrindes"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Links de Navegação"}),e.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:opacity-90 text-sm font-semibold",children:[e.jsx(Ie,{size:16}),"Adicionar Link"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Título da Seção"}),e.jsx("input",{type:"text",value:u.navigation.title,onChange:c=>k(c.target.value),className:"w-full p-3 border-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Navegação"})]}),e.jsx("div",{className:"space-y-3",children:u.navigation.links.map((c,y)=>e.jsxs("div",{className:"flex gap-3 items-start p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1 grid md:grid-cols-2 gap-3",children:[e.jsx("input",{type:"text",value:c.label,onChange:S=>x(y,"label",S.target.value),className:"w-full p-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Texto do Link"}),e.jsx("input",{type:"text",value:c.url,onChange:S=>x(y,"url",S.target.value),className:"w-full p-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"/caminho ou https://..."})]}),e.jsx("button",{onClick:()=>N(y),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(H,{size:20})})]},y))})]}),e.jsx("div",{className:"pt-4 border-t border-gray-100 flex justify-end",children:e.jsxs("button",{onClick:w,disabled:a,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-bold transition-all disabled:opacity-50",children:[a?e.jsx(Te,{className:"animate-spin",size:18}):e.jsx(he,{size:18}),"Salvar Rodapé"]})})]})}function Je(){const[a,r]=i.useState({}),[n,j]=i.useState(!1),[u,v]=i.useState(null),[b,k]=i.useState(""),[x,I]=i.useState(""),[N,w]=i.useState(""),[c,y]=i.useState("");i.useEffect(()=>{S(),D()},[]);const S=async()=>{try{const l=await te(O(A,"config","layout"));if(l.exists()){const t=l.data();r(t),I(t.companyInfo?.title||""),w(t.companyInfo?.description||""),t.whatsapp&&y(t.whatsapp)}}catch(l){console.error("Erro ao carregar assets:",l),k("Erro ao carregar configurações")}},D=async()=>{try{const l=await te(O(A,"config","general"));if(l.exists()){const t=l.data();t.whatsappNumber&&!c&&y(t.whatsappNumber)}}catch(l){console.error("Erro ao carregar WhatsApp:",l)}},z=async l=>{await Y(O(A,"config","layout"),l,{merge:!0})},m=async l=>{await Y(O(A,"config","general"),{whatsappNumber:l},{merge:!0})},f=(l,t=3e3)=>{k(l),setTimeout(()=>k(""),t)},C=async()=>{try{const l={...a,companyInfo:N?{title:x,description:N}:void 0,whatsapp:c||void 0};await z(l),c&&await m(c),r(l),f("Informações salvas com sucesso!")}catch(l){console.error(l),f("Erro ao salvar informações")}},T=async l=>{j(!0),v("logo");try{const t=await Q(l,{folder:"layout",type:"logo"});a.logo&&await X(a.logo);const s={...a,logo:t};await z(s),r(s),f("Logo atualizado com sucesso!")}catch(t){console.error(t),f("Erro ao fazer upload do logo")}finally{j(!1),v(null)}},o=async()=>{if(a.logo)try{await X(a.logo);const l={...a,logo:void 0};await z(l),r(l),f("Logo removido com sucesso!")}catch(l){console.error(l),f("Erro ao remover logo")}};return e.jsxs("div",{className:"space-y-8",children:[b&&e.jsx("div",{className:`p-4 rounded-xl text-center font-semibold shadow-md animate-fade-in ${b.includes("sucesso")?"bg-green-50 text-green-700 border-2 border-green-200":"bg-red-50 text-red-700 border-2 border-red-200"}`,children:b}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(De,{size:20,className:"text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-title font-bold text-gray-800",children:"Logo Principal"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Logotipo exibido no cabeçalho"})]})]}),a.logo?e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"w-64 h-32 border-2 border-gray-200 rounded-xl p-4 group hover:border-primary transition-colors bg-gray-50",children:e.jsx("img",{src:re(a.logo,"thumbnail"),alt:"Logo",className:"w-full h-full object-contain"})}),e.jsx("button",{onClick:()=>void o(),className:"absolute -top-3 -right-3 bg-red-500 hover:bg-red-600 text-white rounded-full p-2 shadow-lg transition-all transform hover:scale-110",title:"Remover logo",children:e.jsx(H,{size:18})})]}):e.jsxs("label",{className:"group relative inline-flex items-center justify-center gap-3 px-6 py-4 bg-gradient-to-r from-primary/10 to-primary/5 border-2 border-dashed border-primary/30 rounded-xl cursor-pointer hover:border-primary hover:from-primary/20 hover:to-primary/10 transition-all",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-white rounded-lg shadow-sm group-hover:shadow-md transition-shadow",children:u==="logo"?e.jsx(ee,{size:20,className:"animate-spin text-primary"}):e.jsx(W,{size:20,className:"text-primary"})}),e.jsx("span",{className:"font-semibold text-gray-800",children:"Adicionar Logo"}),e.jsx("input",{type:"file",accept:"image/*",onChange:l=>{const t=l.target.files?.[0];t&&T(t)},className:"hidden",disabled:n})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:e.jsx(Ue,{size:20,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-title font-bold text-gray-800",children:"Configurações"}),e.jsx("p",{className:"text-sm text-gray-500",children:"WhatsApp e outros"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[e.jsx(ne,{size:16}),"WhatsApp"]}),e.jsx("input",{type:"text",value:c,onChange:l=>y(l.target.value),placeholder:"Ex: 5589994333316",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none transition-colors"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Apenas números com DDI e DDD"})]})]})]}),e.jsx(Qe,{}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>void C(),className:"px-8 py-3 bg-gradient-to-r from-primary to-primary-dark text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:"Salvar Configurações"})})]})}const J={hero:{title:"Brindes que Impressionam",subtitle:"Transforme sua marca em experiências memoráveis",ctaText:"Explorar Catálogo"},videos:[],featuredProductIds:[],stats:{products:{value:"500+",label:"Produtos Disponíveis"},clients:{value:"1000+",label:"Clientes Satisfeitos"},years:{value:"15+",label:"Anos de Experiência"}},cta:{title:"Pronto para Começar?",description:"Solicite um orçamento personalizado e descubra como podemos ajudar sua marca",buttonText:"Ver Catálogo Completo"}};function Ye(){const[a,r]=i.useState(J),[n,j]=i.useState(!1),[u,v]=i.useState(null),[b,k]=i.useState(""),[x,I]=i.useState([]),[N,w]=i.useState([]),[c,y]=i.useState(!0),[S,D]=i.useState(!0);i.useEffect(()=>{z(),m()},[]);const z=async()=>{D(!0);try{const t=await te(O(A,"config","landing"));if(t.exists()){const s=t.data();r({hero:s.hero||J.hero,videos:s.videos||[],featuredProductIds:s.featuredProductIds||[],stats:{products:s.stats?.products||J.stats.products,clients:s.stats?.clients||J.stats.clients,years:s.stats?.years||J.stats.years},cta:s.cta||J.cta}),w(s.featuredProductIds||[])}}catch(t){console.error("Erro ao carregar landing:",t),C("❌ Erro ao carregar dados")}finally{D(!1)}},m=async()=>{y(!0);try{const t=se(Z(A,"produtos"),ae("createdAt","desc"),ie(100)),p=(await ce(t)).docs.map(U=>({id:U.id,...U.data()}));I(p)}catch(t){console.error("Erro ao carregar produtos:",t),C("❌ Erro ao carregar produtos")}finally{y(!1)}},f=async()=>{j(!0);try{await Y(O(A,"config","landing"),{...a,featuredProductIds:N}),C("✅ Landing page atualizada!")}catch(t){C("❌ Erro ao salvar"),console.error(t)}finally{j(!1)}},C=t=>{k(t),setTimeout(()=>k(""),3e3)},T=t=>{w(s=>s.includes(t)?s.filter(p=>p!==t):s.length>=10?s:[...s,t])},o=async(t,s,p,U)=>{v("video");try{const M={url:t,title:p,description:U};s&&s.trim()&&(M.thumbnail=s),r(h=>({...h,videos:[...h.videos,M]})),C("✅ Vídeo adicionado!")}catch(M){console.error("Erro ao adicionar vídeo:",M),C("❌ Erro ao adicionar")}finally{v(null)}},l=t=>{r(s=>({...s,videos:s.videos.filter((p,U)=>U!==t)})),C("✅ Vídeo removido!")};return S?e.jsxs("div",{className:"flex items-center justify-center py-20",children:[e.jsx(ee,{className:"animate-spin text-primary",size:48}),e.jsx("span",{className:"ml-4 text-xl text-gray-600",children:"Carregando..."})]}):e.jsxs("div",{className:"space-y-8",children:[b&&e.jsx("div",{className:`p-4 rounded-xl text-center font-semibold ${b.includes("✅")?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:b}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:e.jsx(Re,{size:20,className:"text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Seção Hero (Principal)"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Primeira impressão do site"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Título Principal"}),e.jsx("input",{type:"text",value:a.hero?.title||"",onChange:t=>r(s=>({...s,hero:{...s.hero,title:t.target.value}})),className:"w-full px-4 py-3 border-2 rounded-xl focus:border-primary outline-none",placeholder:"Ex: Brindes que Impressionam"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Subtítulo"}),e.jsx("input",{type:"text",value:a.hero?.subtitle||"",onChange:t=>r(s=>({...s,hero:{...s.hero,subtitle:t.target.value}})),className:"w-full px-4 py-3 border-2 rounded-xl focus:border-primary outline-none",placeholder:"Ex: Transforme sua marca em experiências memoráveis"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Texto do Botão Principal"}),e.jsx("input",{type:"text",value:a.hero?.ctaText||"",onChange:t=>r(s=>({...s,hero:{...s.hero,ctaText:t.target.value}})),className:"w-full px-4 py-3 border-2 rounded-xl focus:border-primary outline-none",placeholder:"Ex: Explorar Catálogo"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:e.jsx(oe,{size:20,className:"text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Produtos em Destaque"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Selecione até 10 produtos para o carrossel"})]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-sm font-semibold text-gray-700",children:["Selecionados: ",e.jsx("span",{className:"text-primary",children:N.length}),"/10"]})}),c?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(ee,{className:"animate-spin text-primary",size:32}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando produtos..."})]}):x.length===0?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[e.jsx(oe,{className:"mx-auto text-gray-400 mb-3",size:48}),e.jsx("p",{className:"text-gray-600 font-semibold",children:"Nenhum produto cadastrado"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Cadastre produtos primeiro na aba Produtos"})]}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 max-h-[600px] overflow-y-auto p-2",children:x.map(t=>{const s=N.includes(t.id),p=t.thumb_url||t.imagem_url||t.variacoes?.[0]?.thumb_url,U=p?re(p,"thumbnail"):"";return e.jsxs("button",{onClick:()=>T(t.id),disabled:!s&&N.length>=10,className:`relative group border-2 rounded-xl overflow-hidden transition-all ${s?"border-primary ring-2 ring-primary/20":"border-gray-200 hover:border-gray-300"} ${!s&&N.length>=10?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("div",{className:"aspect-square bg-gray-100",children:U?e.jsx("img",{src:U,alt:t.nome,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(oe,{size:24,className:"text-gray-400"})})}),e.jsxs("div",{className:"p-2 bg-white",children:[e.jsx("p",{className:"text-xs font-semibold line-clamp-2 text-left",children:t.nome}),e.jsxs("p",{className:"text-[10px] text-gray-500 text-left mt-1",children:["SKU: ",t.id]})]}),s&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute top-2 right-2 bg-primary text-white rounded-full p-1.5 shadow-lg",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("div",{className:"absolute top-2 left-2 bg-white text-primary rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold shadow-lg",children:N.indexOf(t.id)+1})]})]},t.id)})}),N.length>=10&&e.jsx("p",{className:"text-sm text-orange-600 mt-4 text-center font-semibold",children:"Limite máximo de produtos atingido"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:e.jsx(Pe,{size:20,className:"text-green-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Estatísticas"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Números da empresa"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Produtos - Valor"}),e.jsx("input",{type:"text",value:a.stats?.products?.value||"",onChange:t=>r(s=>({...s,stats:{...s.stats,products:{...s.stats.products,value:t.target.value}}})),className:"w-full px-4 py-2 border-2 rounded-lg focus:border-primary outline-none",placeholder:"500+"}),e.jsx("label",{className:"block text-sm font-semibold mb-2 mt-2",children:"Produtos - Texto"}),e.jsx("input",{type:"text",value:a.stats?.products?.label||"",onChange:t=>r(s=>({...s,stats:{...s.stats,products:{...s.stats.products,label:t.target.value}}})),className:"w-full px-4 py-2 border-2 rounded-lg focus:border-primary outline-none",placeholder:"Produtos Disponíveis"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Clientes - Valor"}),e.jsx("input",{type:"text",value:a.stats?.clients?.value||"",onChange:t=>r(s=>({...s,stats:{...s.stats,clients:{...s.stats.clients,value:t.target.value}}})),className:"w-full px-4 py-2 border-2 rounded-lg focus:border-primary outline-none",placeholder:"1000+"}),e.jsx("label",{className:"block text-sm font-semibold mb-2 mt-2",children:"Clientes - Texto"}),e.jsx("input",{type:"text",value:a.stats?.clients?.label||"",onChange:t=>r(s=>({...s,stats:{...s.stats,clients:{...s.stats.clients,label:t.target.value}}})),className:"w-full px-4 py-2 border-2 rounded-lg focus:border-primary outline-none",placeholder:"Clientes Satisfeitos"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Experiência - Valor"}),e.jsx("input",{type:"text",value:a.stats?.years?.value||"",onChange:t=>r(s=>({...s,stats:{...s.stats,years:{...s.stats.years,value:t.target.value}}})),className:"w-full px-4 py-2 border-2 rounded-lg focus:border-primary outline-none",placeholder:"15+"}),e.jsx("label",{className:"block text-sm font-semibold mb-2 mt-2",children:"Experiência - Texto"}),e.jsx("input",{type:"text",value:a.stats?.years?.label||"",onChange:t=>r(s=>({...s,stats:{...s.stats,years:{...s.stats.years,label:t.target.value}}})),className:"w-full px-4 py-2 border-2 rounded-lg focus:border-primary outline-none",placeholder:"Anos de Experiência"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-pink-500/10 rounded-lg flex items-center justify-center",children:e.jsx(be,{size:20,className:"text-pink-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Call to Action Final"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Seção de conversão no final da página"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Título"}),e.jsx("input",{type:"text",value:a.cta.title,onChange:t=>r(s=>({...s,cta:{...s.cta,title:t.target.value}})),className:"w-full px-4 py-3 border-2 rounded-xl focus:border-primary outline-none",placeholder:"Pronto para Começar?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Descrição"}),e.jsx("textarea",{value:a.cta.description,onChange:t=>r(s=>({...s,cta:{...s.cta,description:t.target.value}})),rows:3,className:"w-full px-4 py-3 border-2 rounded-xl focus:border-primary outline-none resize-none",placeholder:"Solicite um orçamento personalizado..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Texto do Botão"}),e.jsx("input",{type:"text",value:a.cta.buttonText,onChange:t=>r(s=>({...s,cta:{...s.cta,buttonText:t.target.value}})),className:"w-full px-4 py-3 border-2 rounded-xl focus:border-primary outline-none",placeholder:"Ver Catálogo Completo"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:e.jsx(_e,{size:20,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Vídeos de Produção"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Exibidos abaixo das estatísticas"})]})]}),e.jsx(Xe,{onSubmit:o,loading:u==="video"}),a.videos.length>0&&e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:a.videos.map((t,s)=>e.jsxs("div",{className:"border-2 rounded-xl overflow-hidden group",children:[e.jsx("div",{className:"relative aspect-video bg-gray-900",children:e.jsx("video",{src:t.url,className:"w-full h-full object-cover",muted:!0})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-bold mb-1",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:t.description}),e.jsx("button",{onClick:()=>l(s),className:"text-red-500 text-sm hover:underline",children:"Remover"})]})]},s))})]}),e.jsxs("button",{onClick:f,disabled:n,className:"w-full flex items-center justify-center gap-3 bg-primary text-white py-4 rounded-xl font-bold hover:opacity-90 disabled:opacity-50",children:[n?e.jsx(ee,{className:"animate-spin",size:20}):e.jsx(he,{size:20}),"Salvar Landing Page"]})]})}function Xe({onSubmit:a,loading:r}){const[n,j]=i.useState(""),[u,v]=i.useState(""),[b,k]=i.useState(""),[x,I]=i.useState(""),N=()=>{n&&b&&x&&(a(n,u,b,x),j(""),v(""),k(""),I(""))};return e.jsxs("div",{className:"border-2 border-dashed rounded-xl p-6 space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Título"}),e.jsx("input",{type:"text",value:b,onChange:w=>k(w.target.value),className:"w-full px-4 py-2 border-2 rounded-lg outline-none focus:border-primary",placeholder:"Ex: Processo de Personalização"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Descrição"}),e.jsx("input",{type:"text",value:x,onChange:w=>I(w.target.value),className:"w-full px-4 py-2 border-2 rounded-lg outline-none focus:border-primary",placeholder:"Breve descrição do vídeo"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"URL do Vídeo"}),e.jsx("input",{type:"url",value:n,onChange:w=>j(w.target.value),className:"w-full px-4 py-2 border-2 rounded-lg outline-none focus:border-primary",placeholder:"https://seusite.com/videos/video-producao.mp4"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cole a URL completa do vídeo hospedado"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"URL da Thumbnail (opcional)"}),e.jsx("input",{type:"url",value:u,onChange:w=>v(w.target.value),className:"w-full px-4 py-2 border-2 rounded-lg outline-none focus:border-primary",placeholder:"https://seusite.com/videos/thumb-producao.jpg"})]})]}),e.jsx("button",{onClick:N,disabled:!n||!b||!x||r,className:"w-full bg-primary text-white py-3 rounded-lg font-semibold disabled:opacity-50",children:r?"Adicionando...":"Adicionar Vídeo"})]})}function ns(){const[a,r]=i.useState("products"),n=async()=>{await ve(Ne)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-title font-bold",children:"Painel Admin"}),e.jsx("button",{onClick:n,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg",children:"Sair"})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex gap-4 mb-6 overflow-x-auto",children:[e.jsx("button",{onClick:()=>r("products"),className:`px-6 py-2 rounded-lg font-semibold transition-all whitespace-nowrap ${a==="products"?"bg-primary text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,children:"Produtos"}),e.jsx("button",{onClick:()=>r("categories"),className:`px-6 py-2 rounded-lg font-semibold transition-all whitespace-nowrap ${a==="categories"?"bg-primary text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,children:"Categorias"}),e.jsx("button",{onClick:()=>r("landing"),className:`px-6 py-2 rounded-lg font-semibold transition-all whitespace-nowrap ${a==="landing"?"bg-primary text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,children:"Página Inicial"}),e.jsx("button",{onClick:()=>r("config"),className:`px-6 py-2 rounded-lg font-semibold transition-all whitespace-nowrap ${a==="config"?"bg-primary text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,children:"Configurações"})]}),a==="products"&&e.jsxs("div",{className:"space-y-8",children:[e.jsx(We,{}),e.jsx(Ke,{})]}),a==="categories"&&e.jsx(He,{}),a==="landing"&&e.jsx(Ye,{}),a==="config"&&e.jsx(Je,{})]})]})}export{ns as default};
