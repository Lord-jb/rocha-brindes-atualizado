import{d as e,c as t,g as r,a as i,i as a,b as s,t as l,F as n,m as d,e as o,s as c,f as g,r as x,S as h}from"./web.BsTFG2N9.js";import{t as u}from"./tag.BnZrgpsi.js";import{e as b}from"./eye.BvNMXNag.js";import{t as f}from"./trash-2.CB0krndz.js";import"./Icon.4pfrFdzL.js";var m=l('<div class="col-span-full p-12 text-center bg-white rounded-xl shadow-card"><p class="text-gray-600 mb-4">Nenhuma categoria cadastrada'),p=l('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><!$><!/><!$><!/>'),v=l('<div class="bg-white rounded-xl shadow-card p-6 hover:shadow-card-hover transition-shadow"><div class="flex items-start justify-between mb-4"><div class="flex items-center gap-3"><div class="w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center"></div><div><h3 class="font-semibold text-gray-900"></h3><p class="text-sm text-gray-500"></p></div></div></div><div class="flex items-center gap-4 text-sm text-gray-600 mb-4"><span><!$><!/> produtos</span><!$><!/></div><div class="flex items-center gap-2 pt-4 border-t border-gray-200"><a target=_blank class="flex-1 btn border border-gray-300 hover:bg-gray-50 text-sm py-2"><!$><!/>Ver</a><button class="px-3 py-2 text-red-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50"title=Excluir>'),y=l('<span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium">Popular');function w(e){const[l,w]=t(e.categories),[S,C]=t(null);return(()=>{var e=r(p),t=e.firstChild,[$,j]=i(t.nextSibling),E=$.nextSibling,[z,k]=i(E.nextSibling);return a(e,s(h,{get when(){return l().length>0},get children(){return s(n,{get each(){return l()},children:e=>(()=>{var t=r(v),n=t.firstChild,h=n.firstChild.firstChild,m=h.nextSibling.firstChild,p=m.nextSibling,$=n.nextSibling,j=$.firstChild,E=j.firstChild,[z,k]=i(E.nextSibling);z.nextSibling;var T=j.nextSibling,[q,F]=i(T.nextSibling),_=$.nextSibling.firstChild,A=_.firstChild,[D,I]=i(A.nextSibling);D.nextSibling;var L,N=_.nextSibling;return a(h,s(u,{size:24,class:"text-primary-600"})),a(m,()=>e.name),a(p,()=>e.slug),a(j,()=>e.product_count||0,z,k),a($,(L=d(()=>!!e.popular),()=>L()&&r(y)),q,F),a(_,s(b,{size:16}),D,I),N.$$click=()=>(async(e,t)=>{if(confirm(`Tem certeza que deseja excluir a categoria "${t}"?`)){C(e);try{if(!(await fetch(`/api/categories/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete category");w(l().filter(t=>t.id!==e)),alert("Categoria excluÃ­da com sucesso!")}catch(r){alert("Erro ao excluir categoria. Tente novamente.")}finally{C(null)}}})(e.id,e.name),a(N,s(f,{size:16})),o(t=>{var r=`/loja?category=${e.slug}`,i=S()===e.id;return r!==t.e&&c(_,"href",t.e=r),i!==t.t&&g(N,"disabled",t.t=i),t},{e:void 0,t:void 0}),x(),t})()})}}),$,j),a(e,s(h,{get when(){return 0===l().length},get children(){return r(m)}}),z,k),e})()}e(["click"]);export{w as default};
