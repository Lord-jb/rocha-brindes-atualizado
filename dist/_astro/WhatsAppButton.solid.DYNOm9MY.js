import{n as t,g as e,t as r,o as s,f as a,m as i,i as o,c as n,D as c,F as l,r as d,p as h,q as u,d as m,h as g,a as p,S as w,e as f,j as b,k as x,l as k}from"./store.D7aixZB9.js";import{c as y}from"./Providers.solid.CYiEL89D.js";async function v(t=100){const e=await fetch(`/api/catalog?limit=${t}`);if(!e.ok)throw new Error("Failed to fetch catalog");return e.json()}
/**
* @license lucide-solid v0.456.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var $={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},S=r("<svg>"),j=r=>{const[h,u]=t(r,["color","size","strokeWidth","children","class","name","iconNode","absoluteStrokeWidth"]);return m=e(S),s(m,a($,{get width(){return h.size??$.width},get height(){return h.size??$.height},get stroke(){return h.color??$.stroke},get"stroke-width"(){return i(()=>!!h.absoluteStrokeWidth)()?24*Number(h.strokeWidth??$["stroke-width"])/Number(h.size):Number(h.strokeWidth??$["stroke-width"])},get class(){return((...t)=>t.filter((t,e,r)=>Boolean(t)&&""!==t.trim()&&r.indexOf(t)===e).join(" ").trim())("lucide","lucide-icon",null!=h.name?`lucide-${t=h?.name,t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`:void 0,null!=h.class?h.class:"");var t}},u),!0,!0),o(m,n(l,{get each(){return h.iconNode},children:([t,e])=>n(c,a({component:t},e))})),d(),m;var m},z=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],C=t=>n(j,a(t,{name:"ArrowLeft",iconNode:z})),N=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],W=t=>n(j,a(t,{name:"MessageCircle",iconNode:N})),q=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],O=t=>n(j,a(t,{name:"ShoppingBag",iconNode:q}));const B="cart-storage",[A,M]=h(function(){if("undefined"==typeof window)return{items:[],isOpen:!1,count:0,category:"Todos",search:""};try{const t=localStorage.getItem(B);if(t)return{...JSON.parse(t).state,isOpen:!1}}catch(t){}return{items:[],isOpen:!1,count:0,category:"Todos",search:""}}());"undefined"!=typeof window&&u(()=>{localStorage.setItem(B,JSON.stringify({state:{items:A.items,count:A.count,category:A.category,search:A.search}}))});const I={add:t=>{const e=A.items.findIndex(e=>e.id===t.id&&e.cor===t.cor);e>=0?M("items",e,"quantity",t=>t+1):M("items",e=>[...e,{...t,quantity:1}]),M("count",A.items.reduce((t,e)=>t+e.quantity,0))},remove:t=>{M("items",e=>e.filter(e=>!(e.id===t||`${e.id}-${e.cor}`===t))),M("count",A.items.reduce((t,e)=>t+e.quantity,0))},updateQuantity:(t,e)=>{M("items",r=>r.map(r=>(r.cor?`${r.id}-${r.cor}`:r.id)===t||r.id===t?{...r,quantity:e}:r)),M("count",A.items.reduce((t,e)=>t+e.quantity,0))},clear:()=>{M("items",[]),M("count",0)},toggle:()=>{M("isOpen",!A.isOpen)},setCategory:t=>{M("category",t)},setSearch:t=>{M("search",t)}};function F(t,e="public"){return t?t.startsWith("http")||t.startsWith("blob:")||t.startsWith("data:")?t:`https://imagedelivery.net/iem94FVEkj3Qjv3DsJXpbQ/${t}/${e}`:""}var L=r('<a href=/ class="flex items-center justify-center p-2 hover:bg-white/10 rounded-lg transition-colors"aria-label=Voltar>'),P=r('<img alt="Rocha Brindes"class="h-5 sm:h-7 md:h-9 w-auto object-contain"loading=eager>',!0,!1,!1),D=r('<span class="absolute -top-1.5 -right-1.5 sm:-top-2 sm:-right-2 bg-accent text-dark font-bold text-[10px] sm:text-xs min-w-[20px] sm:min-w-[24px] h-[20px] sm:h-[24px] flex items-center justify-center rounded-full border-2 sm:border-3 border-white shadow-md">'),J=r('<header class="sticky top-0 z-40 bg-black shadow-md border-b border-gray-800"><div class="container mx-auto px-4 sm:px-6 lg:px-8"><div class="relative flex items-center justify-between h-16 sm:h-20"><div class="w-10 sm:w-12"></div><a href=/></a><button class="relative p-2.5 sm:p-3 bg-primary hover:bg-primary-dark text-white rounded-full transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105"aria-label="Abrir carrinho"><!$><!/><!$><!/>'),Q=r('<div class="h-10 sm:h-14 md:h-16 w-32 sm:w-48 md:w-64 bg-gray-200 animate-pulse rounded">');function T(t){const r=y(()=>({queryKey:["catalog",100],queryFn:()=>v(100),staleTime:6e5})),s=g(()=>{const t=r.data?.layout.logo;return t?F(t,"thumbnail"):""});return(()=>{var a=e(J),c=a.firstChild.firstChild.firstChild,l=c.nextSibling,h=l.nextSibling,u=h.firstChild,[m,g]=p(u.nextSibling),y=m.nextSibling,[v,$]=p(y.nextSibling);return o(c,n(w,{get when(){return t.showBackButton},get children(){var t=e(L);return o(t,n(C,{size:20,class:"text-white","stroke-width":2.5})),t}})),o(l,n(w,{get when(){return i(()=>!r.isLoading)()&&s()},get fallback(){return e(Q)},get children(){var t=e(P);return f(()=>x(t,"src",s())),t}})),b(h,"click",I.toggle,!0),o(h,n(O,{size:20,class:"sm:w-6 sm:h-6","stroke-width":2.5}),m,g),o(h,n(w,{get when(){return A.count>0},get children(){var t=e(D);return o(t,()=>A.count),t}}),v,$),f(()=>k(l,"flex items-center "+(t.showBackButton?"absolute left-1/2 -translate-x-1/2 sm:static sm:translate-x-0":""))),d(),a})()}m(["click"]);var V=r('<button class="fixed bottom-6 right-6 bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-2xl hover:scale-110 transition-all z-40"aria-label="Contato WhatsApp">');function Z(t){return(r=e(V)).$$click=()=>{const e=`https://wa.me/${t.number.replace(/\D/g,"")}?text=${encodeURIComponent("Olá! Gostaria de mais informações sobre os produtos.")}`;/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?window.location.href=e:window.open(e,"_blank")},o(r,n(W,{size:28})),d(),r;var r}m(["click"]);export{T as H,j as I,Z as W,A as a,I as c,v as f,F as o};
