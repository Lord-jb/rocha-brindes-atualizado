import{j as e}from"./Providers._219QqyE.js";import{r as i}from"./index.y5FlbPQu.js";import{F as g,C as b}from"./Catalog.C7vwQ3s6.js";import{S as h}from"./search.ANEZaDz5.js";import{X as u}from"./cloudflare.jZ7Z--FC.js";import"./preload-helper.BlTxHScW.js";import"./Header.-Z4MEgFy.js";const S=i.memo(function({categories:d,selectedCategory:s,onSelectCategory:f,productsCount:y}){const[t,l]=i.useState(""),[m,x]=i.useState(!1),c=typeof window<"u"&&window.innerWidth<1024,n=i.useMemo(()=>{if(!t.trim())return d;const r=t.toLowerCase();return d.filter(a=>a.nome.toLowerCase().includes(r))},[d,t]),o=r=>{f(r),c&&x(!1)},p=s!=="Todos"?1:0;return c?e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>x(!m),className:"flex items-center gap-2 px-4 py-2.5 bg-white hover:bg-gray-50 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 transition-all shadow-sm w-full",children:[e.jsx(g,{size:16,className:"text-primary flex-shrink-0"}),e.jsx("span",{className:"flex-1 text-left",children:s==="Todos"?"Categorias":s}),p>0&&e.jsx("span",{className:"px-2 py-0.5 bg-primary text-white text-xs font-bold rounded-full",children:p}),e.jsx(b,{size:16,className:`flex-shrink-0 transition-transform ${m?"rotate-180":""}`})]}),m&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>x(!1)}),e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-lg shadow-xl border border-gray-200 z-50 overflow-hidden max-h-[400px] flex flex-col",children:[e.jsx("div",{className:"p-3 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(h,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:"Buscar categoria...",value:t,onChange:r=>l(r.target.value),className:"w-full pl-9 pr-9 py-2 bg-gray-50 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),t&&e.jsx("button",{onClick:()=>l(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(u,{size:14})})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-2",children:[e.jsx("button",{onClick:()=>o("Todos"),className:`w-full text-left px-3 py-2.5 rounded-lg text-sm font-semibold transition-all ${s==="Todos"?"bg-primary/10 text-primary":"text-gray-700 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Todas as Categorias"}),s==="Todos"&&e.jsx("span",{className:"text-primary",children:"✓"})]})}),n.map(r=>{const a=s===r.nome;return e.jsx("button",{onClick:()=>o(r.nome),className:`w-full text-left px-3 py-2.5 rounded-lg text-sm font-semibold transition-all ${a?"bg-primary/10 text-primary":"text-gray-700 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:r.nome}),a&&e.jsx("span",{className:"text-primary",children:"✓"})]})},r.nome)}),n.length===0&&e.jsx("div",{className:"text-center py-6 text-gray-500 text-sm",children:"Nenhuma categoria encontrada"})]})]})]})]}):e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-r from-primary/5 to-primary/10 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(g,{className:"text-primary",size:20})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Categorias"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[y," produtos"]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(h,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:"Buscar...",value:t,onChange:r=>l(r.target.value),className:"w-full pl-9 pr-9 py-2 bg-white border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),t&&e.jsx("button",{onClick:()=>l(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(u,{size:14})})]})]}),e.jsxs("div",{className:"p-3 max-h-[calc(100vh-300px)] overflow-y-auto overscroll-contain space-y-1.5",children:[e.jsx("button",{onClick:()=>o("Todos"),className:`w-full text-left px-3 py-2.5 rounded-lg font-semibold text-sm transition-all ${s==="Todos"?"bg-gradient-to-r from-primary to-primary-dark text-white shadow-md":"text-gray-700 hover:bg-gray-50"}`,children:"Todas as Categorias"}),n.map(r=>{const a=s===r.nome;return e.jsx("button",{onClick:()=>o(r.nome),className:`w-full text-left px-3 py-2.5 rounded-lg font-semibold text-sm transition-all ${a?"bg-gradient-to-r from-primary to-primary-dark text-white shadow-md":"text-gray-700 hover:bg-gray-50"}`,children:r.nome},r.nome)}),n.length===0&&e.jsx("div",{className:"text-center py-6 text-gray-500 text-sm",children:"Nenhuma categoria encontrada"})]}),s!=="Todos"&&e.jsx("div",{className:"p-3 border-t border-gray-200",children:e.jsx("button",{onClick:()=>o("Todos"),className:"w-full py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold text-sm rounded-lg transition-all",children:"Limpar Filtros"})})]})});export{S as default};
