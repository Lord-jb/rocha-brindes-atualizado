import{c as t,g as e,i as a,b as s,t as i,F as r,a as n,e as l,f as d,j as o,s as p,S as c}from"./web.BsTFG2N9.js";import{f as x,a as g}from"./utils.CDcRrbXb.js";import{c as u}from"./clock.BJS4Y72-.js";import{e as h}from"./eye.BvNMXNag.js";import"./Icon.4pfrFdzL.js";var m=i('<div class=overflow-x-auto><table class=w-full><thead class="bg-gray-50 border-b border-gray-200"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Número</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Cliente</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Contato</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Valor</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Data</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ações</th></tr></thead><tbody class="bg-white divide-y divide-gray-200">'),f=i('<div class="bg-white rounded-xl shadow-card overflow-hidden">'),y=i('<div class="p-12 text-center"><p class=text-gray-600>Nenhum pedido encontrado'),b=i('<tr class=hover:bg-gray-50><td class="px-6 py-4 whitespace-nowrap"><span class="text-sm font-medium text-gray-900">#<!$><!/></span></td><td class="px-6 py-4 whitespace-nowrap"><div class="text-sm text-gray-900"></div></td><td class="px-6 py-4 whitespace-nowrap"><div class="text-sm text-gray-600"><div></div><div></div></div></td><td class="px-6 py-4 whitespace-nowrap"><span class="text-sm font-medium text-gray-900"></span></td><td class="px-6 py-4 whitespace-nowrap"><select><option value=pending>Aguardando</option><option value=processing>Em Produção</option><option value=shipped>Em Transporte</option><option value=delivered>Entregue</option><option value=cancelled>Cancelado</option></select></td><td class="px-6 py-4 whitespace-nowrap"><span class="text-sm text-gray-500 flex items-center gap-1"><!$><!/><!$><!/></span></td><td class="px-6 py-4 whitespace-nowrap"><a target=_blank class="inline-flex items-center gap-1 text-sm text-primary-500 hover:text-primary-600 font-medium"><!$><!/>Ver');function v(i){const[v,w]=t(i.orders),[C,S]=t(null);return k=e(f),a(k,s(c,{get when(){return v().length>0},get fallback(){return e(y)},get children(){var t=e(m),i=t.firstChild.firstChild.nextSibling;return a(i,s(r,{get each(){return v()},children:t=>(()=>{var i=e(b),r=i.firstChild,c=r.firstChild,m=c.firstChild.nextSibling,[f,y]=n(m.nextSibling),k=r.nextSibling,_=k.firstChild,j=k.nextSibling,$=j.firstChild.firstChild,E=$.nextSibling,T=j.nextSibling,z=T.firstChild,N=T.nextSibling,A=N.firstChild,F=N.nextSibling,P=F.firstChild,V=P.firstChild,[q,B]=n(V.nextSibling),D=q.nextSibling,[I,J]=n(D.nextSibling),L=F.nextSibling.firstChild,O=L.firstChild,[U,G]=n(O.nextSibling);return U.nextSibling,a(c,()=>t.order_number,f,y),a(_,()=>t.customer_name),a($,()=>t.customer_email),a(E,()=>t.customer_phone),a(z,()=>x(t.total_amount)),A.addEventListener("change",e=>(async(t,e)=>{S(t);try{if(!(await fetch(`/api/orders/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:e})})).ok)throw new Error("Failed to update status");w(v().map(a=>a.id===t?{...a,status:e}:a))}catch(a){alert("Erro ao atualizar status. Tente novamente.")}finally{S(null)}})(t.id,e.currentTarget.value)),a(P,s(u,{size:14}),q,B),a(P,()=>g(t.created_at),I,J),a(L,s(h,{size:16}),U,G),l(e=>{var a,s=C()===t.id,i=`px-2 py-1 text-xs font-medium rounded-full border-0 cursor-pointer ${a=t.status,{pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",shipped:"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"}[a]||"bg-gray-100 text-gray-800"} disabled:opacity-50`,r=`/pedido/${t.order_number}`;return s!==e.e&&d(A,"disabled",e.e=s),i!==e.t&&o(A,e.t=i),r!==e.a&&p(L,"href",e.a=r),e},{e:void 0,t:void 0,a:void 0}),l(()=>d(A,"value",t.status)),i})()})),t}})),k;var k}export{v as default};
