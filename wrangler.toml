#:schema node_modules/wrangler/config-schema.json
name = "rocha-brindes"
compatibility_date = "2024-12-05"
pages_build_output_dir = "./dist"

# ==========================================
# CLOUDFLARE D1 DATABASE
# ==========================================
[[d1_databases]]
binding = "DB"
database_name = "rocha-brindes-db"
database_id = "" # Preencher após criar: wrangler d1 create rocha-brindes-db

# ==========================================
# CLOUDFLARE R2 STORAGE (IMAGENS)
# ==========================================
[[r2_buckets]]
binding = "R2"
bucket_name = "rocha-brindes-images"
preview_bucket_name = "rocha-brindes-images-dev"

# ==========================================
# CLOUDFLARE KV (CACHE E SESSÕES)
# ==========================================
[[kv_namespaces]]
binding = "CACHE"
id = "" # Preencher após criar: wrangler kv:namespace create CACHE
preview_id = "" # Para desenvolvimento

[[kv_namespaces]]
binding = "SESSIONS"
id = "" # Preencher após criar: wrangler kv:namespace create SESSIONS
preview_id = "" # Para desenvolvimento

# ==========================================
# VARIÁVEIS DE AMBIENTE
# ==========================================
[vars]
ENVIRONMENT = "production"
BASE_URL = "https://rochabrindes.com.br"
WHATSAPP_NUMBER = "5596981247830"
ADMIN_EMAIL = "rochabrindes29@gmail.com"

# ==========================================
# CONFIGURAÇÃO DE BUILD
# ==========================================
[build]
command = "npm run build"

[build.upload]
format = "service-worker"

# ==========================================
# CONFIGURAÇÃO DE DESENVOLVIMENTO
# ==========================================
[dev]
port = 8788
local_protocol = "http"
